# SURAPP (frontend)

Built with [Nuxt.js](https://nuxtjs.org)

- **Programming language**: [TypeScript](https://typescript.nuxtjs.org)
- **Package manager**: Npm
- **UI framework**: [Tailwind CSS](https://tailwindcss.com)
- **Nuxt.js modules**: [Axios](https://axios.nuxtjs.org), [i18n](https://i18n.nuxtjs.org)
- **Linting tools**: ESLint, Prettier, StyleLint
- **Testing framework**: [Jest](https://jestjs.io)
- **Rendering mode**: Single Page App
- **Deployment target**: Static (Static/JAMStack hosting)
- **Development tools**: jsconfig.json (Recommended for VS Code)

We use the Class API of
https://typescript.nuxtjs.org/cookbook/components/#script for most of our components and the Composition API should be considered for more complex components like overviews (with search, filers, sorting, pagination etc.).

We use [Nuxt Typed Vuex](https://nuxt-typed-vuex.roe.dev) for our Vuex stores/modules.

## Recommended editors

[VSCode](https://code.visualstudio.com) with these extensions:

- [Vetur](https://marketplace.visualstudio.com/items?itemName=octref.vetur)
- [ESLint](https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint)
- [Prettier](https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode)
- [stylelint](https://marketplace.visualstudio.com/items?itemName=stylelint.vscode-stylelint)

And these settings:

- `"vetur.format.enable": false`
- `"vetur.experimental.templateInterpolationService": true`

Or [WebStorm](https://www.jetbrains.com/webstorm/)

## Vue Dev Tools

Because we use the [nuxt-typed-vuex](https://nuxt-typed-vuex.roe.dev) the Vuex tab of the Vue Dev Tools is not working correctly, unfortunately. The state is not updated, and the state of other Vuex modules registered by Nuxt modules like i18n don't show up (although they exist). See [this issue](https://github.com/danielroe/nuxt-typed-vuex/issues/39).

The state not being updated is easily fixed by following these steps:

- In the Vue Dev Tools tab, click on the Settings icon.
- Check the box to enable New Vuex Backend.
- After restarting the browser, vuex state should now work as designed.

## Build Setup

### Install dependencies

```shell
npm install
```

### Serve with hot reload at localhost:3000

```shell
npm run dev
```

### Run tests

```shell
npm run test
```

### Run linter

```shell
npm run lint
```

### Mock Axios HTTP requests

If you want to mock the responses of Axios HTTP requests to the REST API, set `MOCK_AXIOS=true`.
This allows you to develop the frontend before the backend is ready.

The mock responses are defined in the `mocks` folder.

This uses logic of the [axios-mock-server](https://github.com/solufa/axios-mock-server) package.

The routing uses the same logic as Nuxt.

Don't change the `$mock.ts` file, this is autogenerated by running `npm run mock` in your terminal. You need to run this command after changing files in the `mocks` folder.

### Update mock

```shell
npm run mock
```

### Build for production

```
npm run build
```

Deploy the created dist/ folder to your static hosting like Surge, GitHub Pages or nginx.
